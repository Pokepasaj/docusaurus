"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[65],{6737:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>u,contentTitle:()=>l,default:()=>f,frontMatter:()=>c,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"api/config/api-config-extend","title":"extend","description":"Let\'s say you made a reasonable config and you just want to use it as a template.","source":"@site/docs/api/config/extend.md","sourceDirName":"api/config","slug":"/api/config/api-config-extend","permalink":"/docusaurus/api/config/api-config-extend","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/api/config/extend.md","tags":[],"version":"current","frontMatter":{"id":"api-config-extend","title":"extend"},"sidebar":"apiSidebar","previous":{"title":"render","permalink":"/docusaurus/api/config/api-config-render"},"next":{"title":"override","permalink":"/docusaurus/api/config/api-config-override"}}');var o=t(4848),r=t(8453),s=t(5537),i=t(9329);const c={id:"api-config-extend",title:"extend"},l=void 0,u={},d=[];function p(n){const e={a:"a",admonition:"admonition",br:"br",code:"code",p:"p",pre:"pre",...(0,r.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(e.p,{children:["Let's say you made a reasonable config and you just want to use it as a template.",(0,o.jsx)(e.br,{}),"\n","In this example, you can get ",(0,o.jsx)(e.code,{children:"c"})," and extend it."]}),"\n","\n",(0,o.jsxs)(s.A,{children:[(0,o.jsx)(i.A,{value:"jsonnet",label:"Jsonnet",default:!0,children:(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-js",children:"local k = import 'konn/main.libsonnet';\n\nlocal a = {\ntype: 'config',\n};\n\nlocal b = {\nrender(ctx, props):: {\n    type: 'config',\n},\n};\n\nlocal c = k.config(function(ctx, props) {\ntype: 'config',\nkind: 'Service',\nprops: props,\nmetadata: {\n    name: 'bananas',\n},\n}, {\nbar: 'foo',\n});\n\nlocal e = c.extend(function(ctx, config, props) {\ntype: 'config2',\nprops: props,\n\n});\n\n{\na: a, \nb: b,\nc: c.render(props={\n    foo: 'bar',\n}),\ne: e,\n}\n\n"})})}),(0,o.jsx)(i.A,{value:"yaml",label:"YAML Output",children:(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-yaml",children:"a:\ntype: config\nb: {}\nc:\nkind: Service\nmetadata:\n    name: bananas\nprops:\n    bar: foo\n    foo: bar\ntype: config\ne:\nbody:\n    props:\n    bar: foo\n    type: config2\n\n"})})})]}),"\n",(0,o.jsx)(e.admonition,{title:"Notice",type:"tip",children:(0,o.jsx)(e.p,{children:"If we comment out props on the extension \u2192 props will dissapear because extend gives you config and\nyou need to actually tell it to add the config to it."})}),"\n",(0,o.jsxs)(s.A,{children:[(0,o.jsx)(i.A,{value:"jsonnet",label:"Jsonnet",default:!0,children:(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-js",children:"local k = import 'konn/main.libsonnet';\n\nlocal a = {\ntype: 'config',\n};\n\nlocal b = {\nrender(ctx, props):: {\n    type: 'config',\n},\n};\n\nlocal c = k.config(function(ctx, props) {\ntype: 'config',\nkind: 'Service',\nprops: props,\nmetadata: {\n    name: 'bananas',\n},\n}, {\nbar: 'foo',\n});\n\nlocal e = c.extend(function(ctx, config, props) {\ntype: 'config2',\n//props: props,\n\n});\n\n{\na: a, \nb: b,\nc: c.render(props={\n    foo: 'bar',\n}),\ne: e,\n}\n"})})}),(0,o.jsx)(i.A,{value:"yaml",label:"YAML Output",children:(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-yaml",children:"a:\ntype: config\nb: {}\nc:\nkind: Service\nmetadata:\n    name: bananas\nprops:\n    bar: foo\n    foo: bar\ntype: config\ne:\nbody:\n    type: config2\n"})})})]}),"\n",(0,o.jsxs)(e.admonition,{title:"Add Config",type:"tip",children:[(0,o.jsxs)(e.p,{children:["Now it has the props from ",(0,o.jsx)(e.code,{children:"c"})," but it does it in such a way that any props that you pass into it  will also pass down"]}),(0,o.jsxs)(e.p,{children:["extending does not include the props when you do it but that is why we use ",(0,o.jsx)(e.a,{href:"api-config-override",children:"Override"})]})]}),"\n",(0,o.jsxs)(s.A,{children:[(0,o.jsx)(i.A,{value:"jsonnet",label:"Jsonnet",default:!0,children:(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-js",children:"local k = import 'konn/main.libsonnet';\n\nlocal a = {\ntype: 'config',\n};\n\nlocal b = {\nrender(ctx, props):: {\n    type: 'config',\n},\n};\n\nlocal c = k.config(function(ctx, props) {\ntype: 'config',\nkind: 'Service',\nprops: props,\nmetadata: {\n    name: 'bananas',\n},\n}, {\nbar: 'foo',\n});\n\nlocal e = c.extend(function(ctx, config, props) config {\ntype: 'config2',\n\n}, {\n    foo: 'bar',\n});\n\n{\na: a, \nb: b,\nc: c.render(props={\n    foo: 'bar',\n}),\ne: e,\n\n}\n\n"})})}),(0,o.jsx)(i.A,{value:"yaml",label:"YAML Output",children:(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-yaml",children:"a:\ntype: config\nb: {}\nc:\nkind: Service\nmetadata:\n    name: bananas\nprops:\n    bar: foo\n    foo: bar\ntype: config\ne:\nbody:\n    kind: Service\n    metadata:\n    name: bananas\n    props:\n    foo: bar\n    type: config2\n\n"})})})]})]})}function f(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(p,{...n})}):p(n)}},9329:(n,e,t)=>{t.d(e,{A:()=>s});t(6540);var a=t(4164);const o={tabItem:"tabItem_Ymn6"};var r=t(4848);function s(n){let{children:e,hidden:t,className:s}=n;return(0,r.jsx)("div",{role:"tabpanel",className:(0,a.A)(o.tabItem,s),hidden:t,children:e})}},5537:(n,e,t)=>{t.d(e,{A:()=>k});var a=t(6540),o=t(4164),r=t(5627),s=t(6347),i=t(372),c=t(604),l=t(1861),u=t(8749);function d(n){return a.Children.toArray(n).filter((n=>"\n"!==n)).map((n=>{if(!n||(0,a.isValidElement)(n)&&function(n){const{props:e}=n;return!!e&&"object"==typeof e&&"value"in e}(n))return n;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof n.type?n.type:n.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(n){const{values:e,children:t}=n;return(0,a.useMemo)((()=>{const n=e??function(n){return d(n).map((n=>{let{props:{value:e,label:t,attributes:a,default:o}}=n;return{value:e,label:t,attributes:a,default:o}}))}(t);return function(n){const e=(0,l.XI)(n,((n,e)=>n.value===e.value));if(e.length>0)throw new Error(`Docusaurus error: Duplicate values "${e.map((n=>n.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(n),n}),[e,t])}function f(n){let{value:e,tabValues:t}=n;return t.some((n=>n.value===e))}function b(n){let{queryString:e=!1,groupId:t}=n;const o=(0,s.W6)(),r=function(n){let{queryString:e=!1,groupId:t}=n;if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,c.aZ)(r),(0,a.useCallback)((n=>{if(!r)return;const e=new URLSearchParams(o.location.search);e.set(r,n),o.replace({...o.location,search:e.toString()})}),[r,o])]}function m(n){const{defaultValue:e,queryString:t=!1,groupId:o}=n,r=p(n),[s,c]=(0,a.useState)((()=>function(n){let{defaultValue:e,tabValues:t}=n;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!f({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map((n=>n.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const a=t.find((n=>n.default))??t[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:e,tabValues:r}))),[l,d]=b({queryString:t,groupId:o}),[m,h]=function(n){let{groupId:e}=n;const t=function(n){return n?`docusaurus.tab.${n}`:null}(e),[o,r]=(0,u.Dv)(t);return[o,(0,a.useCallback)((n=>{t&&r.set(n)}),[t,r])]}({groupId:o}),g=(()=>{const n=l??m;return f({value:n,tabValues:r})?n:null})();(0,i.A)((()=>{g&&c(g)}),[g]);return{selectedValue:s,selectValue:(0,a.useCallback)((n=>{if(!f({value:n,tabValues:r}))throw new Error(`Can't select invalid tab value=${n}`);c(n),d(n),h(n)}),[d,h,r]),tabValues:r}}var h=t(9136);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var x=t(4848);function y(n){let{className:e,block:t,selectedValue:a,selectValue:s,tabValues:i}=n;const c=[],{blockElementScrollPositionUntilNextRender:l}=(0,r.a_)(),u=n=>{const e=n.currentTarget,t=c.indexOf(e),o=i[t].value;o!==a&&(l(e),s(o))},d=n=>{let e=null;switch(n.key){case"Enter":u(n);break;case"ArrowRight":{const t=c.indexOf(n.currentTarget)+1;e=c[t]??c[0];break}case"ArrowLeft":{const t=c.indexOf(n.currentTarget)-1;e=c[t]??c[c.length-1];break}}e?.focus()};return(0,x.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":t},e),children:i.map((n=>{let{value:e,label:t,attributes:r}=n;return(0,x.jsx)("li",{role:"tab",tabIndex:a===e?0:-1,"aria-selected":a===e,ref:n=>{c.push(n)},onKeyDown:d,onClick:u,...r,className:(0,o.A)("tabs__item",g.tabItem,r?.className,{"tabs__item--active":a===e}),children:t??e},e)}))})}function v(n){let{lazy:e,children:t,selectedValue:r}=n;const s=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const n=s.find((n=>n.props.value===r));return n?(0,a.cloneElement)(n,{className:(0,o.A)("margin-top--md",n.props.className)}):null}return(0,x.jsx)("div",{className:"margin-top--md",children:s.map(((n,e)=>(0,a.cloneElement)(n,{key:e,hidden:n.props.value!==r})))})}function j(n){const e=m(n);return(0,x.jsxs)("div",{className:(0,o.A)("tabs-container",g.tabList),children:[(0,x.jsx)(y,{...e,...n}),(0,x.jsx)(v,{...e,...n})]})}function k(n){const e=(0,h.A)();return(0,x.jsx)(j,{...n,children:d(n.children)},String(e))}},8453:(n,e,t)=>{t.d(e,{R:()=>s,x:()=>i});var a=t(6540);const o={},r=a.createContext(o);function s(n){const e=a.useContext(r);return a.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:s(n.components),a.createElement(r.Provider,{value:e},n.children)}}}]);